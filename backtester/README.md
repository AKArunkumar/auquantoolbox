# **How does the toolbox work?** #

## Trading System ##
The main system that runs your backtest. Raw data (intraday tick data or end of day data) for instruments are sent to the trading system. 
At every such update of data, the trading system does the following things and then updates the state of that instrument in the system :  

* Checks whether it is time to update the features and execute. It updates features at a frequency determined by trading parameters.  
* If it is, it first loops over all instruments and updates the features for each instrument (specified by trading parameters). Each instrument stores its features, which can be later extracted out.  
* Then, the trading system computes all the market features (specified by trading parameters). 
  The system also stores such market features at every update features interval. 
  An example of market feature is 'prediction' which the user needs to provide - This feaure specifies our prediction probability that the specified instrument is a buy  
* Then the trading system looks at the prediction value and passes it to an execution system. This converts uses the prediction value (and current capital, risk limits etc) to decide what positions should he trading system take for various instruments.  
* Trade executions generated by Execution System are then passed into the orderPlacer, which tries to place these orders into the market. 
  
Trading System also keeps checking for confirmation of orders which are placed. It updates instrument positions for trades that are confirmed. 
  
For trading system to work, following need to be specified:

## DataSource ##
Emits instrument updates into the trading system. It converts any sort of data from external sources to Instrument Updates. We have a different instrument update for each type of instrument.
Current choices for datasource are:

* GoogleStockDataSource - Stock data from Google
* AuquanDataSource - Data from US stock database of 500 biggest stocks maintained by Auquan.

## InstrumentFeatures ##
A Feature for the instrument. 

## MarketFeatures ##
A Feature for the market

## ExecutionSystem ##
Takes a prediction value and converts it into possible positions to be taken for each type of instrument. It takes into account current positions and confidence factor of the prediction.

## OrderPlacer ##
Manages placing and confirming of orders.

# **Glossary:** #

**Instrument:** An Asset to trade. Right now we support stocks, futures, and options
**InstrumentUpdate**: An update to an instrument.